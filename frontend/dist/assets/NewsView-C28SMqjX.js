import{w as _,c as i,g as c,u as n,F as u,h as y,a as v,_ as C,j as N,t as g,d as o,k as j,l as m,f as b,b as h,n as $,r as w,q,e as P}from"./index-DmgvKxYp.js";import{_ as k}from"./Article-LyEj9lo7.js";const B=["type","disabled"],x={__name:"Button",props:{data:{type:Object,required:!0}},setup(d){const l=d,a=l.data;return _(()=>l.data,e=>{Object.assign(a,e)},{immediate:!0}),(e,r)=>(c(),i("button",{class:o(n(a).cls),type:n(a)?n(a).type:"button",onClick:r[0]||(r[0]=s=>n(a).action()),disabled:n(a).disabled},[n(a).anchor?(c(),i(u,{key:0},[n(a).anchor?(c(),y(C,{key:0,data:n(a).anchor},null,8,["data"])):v("",!0)],64)):(c(),i(u,{key:1},[N(g(n(a).label),1)],64))],10,B))}},V={__name:"Pagnition",props:{activePage:{default:1,type:Number,required:!1},totalPage:{default:1,type:Number,required:!1},Cls:{type:Array,required:!1}},emits:["update"],setup(d,{emit:l}){const a=l,e=d;e.data;const r=e.Cls?e.Cls:[],s=j(e.activePage);_(()=>e.activePage,f=>{s.value=f}),_(()=>s,f=>{a("update",f)},{immediate:!0});const t=m(()=>e.totalPage),p=m(()=>[{id:0,label:"Forrige",cls:["button","pagnition-btn"],disabled:s.value<=1?"disabled":!1,action:()=>{s.value>1&&s.value--}},{id:1,label:"Neste",cls:["button","archive-btn"],disabled:s.value>=t.value?"disabled":!1,action:()=>{s.value<t.value&&s.value++}}]);return(f,S)=>(c(),i("nav",{class:o(n(r)[0])},[b(x,{data:p.value[0]},null,8,["data"]),h("span",{class:o(n(r)[1])},g(s.value>0?s.value+" / "+t.value:""),3),b(x,{data:p.value[1]},null,8,["data"])],2))}},F={key:1},z={__name:"NewsView",setup(d){const l=$(),a=w({title:"Siste nytt fra foreningen",cls:["flex-wrap-row-justify-center"],section:{title:"Nyhetsarkiv",cls:["flex-wrap-row-justify-center"]}}),e=w({n:3,activePage:1,cls:["flex-wrap-row-justify-center","flex-wrap-row-align-items-center"],total:m(()=>Math.ceil(l.archived.length/e.n)),articles:m(()=>{const r=e.n,s=e.activePage,t=s*r,p=(s-1)*r;return l.archived.slice(p,t)})});return q(async()=>{await l.fetchNews()}),(r,s)=>(c(),i(u,null,[h("h2",{class:o(a.cls)},g(a.title),3),n(l).recent.length>0?(c(!0),i(u,{key:0},P(n(l).recent,t=>(c(),y(k,{key:t.id,data:t,Cls:[t.id%2?"flex-wrap-row-justify-space-around":"flex-row-reversed-justify-space-around-align-content-center","article-ingress",t.cls[0],t.cls[1],"news-article"]},null,8,["data","Cls"]))),128)):v("",!0),n(l).archived.length>0?(c(),i("section",F,[h("h2",{class:o(a.section.cls)},g(a.section.title),3),b(V,{Cls:e.cls,totalPage:e.total,activePage:e.activePage,onUpdate:s[0]||(s[0]=t=>e.activePage=t)},null,8,["Cls","totalPage","activePage"]),n(l).archived.length>0?(c(),i("section",{key:0,class:o([n(l).data.cls[1]])},[(c(!0),i(u,null,P(e.articles,t=>(c(),y(k,{key:t.id,data:t,Cls:[["flex-column-align-items-center","article-section"],"article-section",t.cls[0],t.cls[1],"news-card"]},null,8,["data","Cls"]))),128))],2)):v("",!0)])):v("",!0)],64))}};export{z as default};
