import{w as _,b as i,h as c,u as n,F as d,i as g,d as u,j as C,k as N,t as m,f as o,l as j,c as y,q as h,e as b,n as $,r as w,s as q,g as P}from"./index.js";import{_ as k}from"./Article-dRKTrg9-.js";import"./Media-DKruGQXW.js";const B=["type","disabled"],x={__name:"Button",props:{data:{type:Object,required:!0}},setup(p){const l=p,a=l.data;return _(()=>l.data,e=>{Object.assign(a,e)},{immediate:!0}),(e,r)=>(c(),i("button",{class:o(n(a).cls),type:n(a)?n(a).type:"button",onClick:r[0]||(r[0]=s=>n(a).action()),disabled:n(a).disabled},[n(a).anchor?(c(),i(d,{key:0},[n(a).anchor?(c(),g(C,{key:0,data:n(a).anchor},null,8,["data"])):u("",!0)],64)):(c(),i(d,{key:1},[N(m(n(a).label),1)],64))],10,B))}},V={__name:"Pagnition",props:{activePage:{default:1,type:Number,required:!1},totalPage:{default:1,type:Number,required:!1},Cls:{type:Array,required:!1}},emits:["update"],setup(p,{emit:l}){const a=l,e=p;e.data;const r=e.Cls?e.Cls:[],s=j(e.activePage);_(()=>e.activePage,v=>{s.value=v}),_(()=>s,v=>{a("update",v)},{immediate:!0});const t=y(()=>e.totalPage),f=y(()=>[{id:0,label:"Forrige",cls:["button","pagnition-btn"],disabled:s.value<=1?"disabled":!1,action:()=>{s.value>1&&s.value--}},{id:1,label:"Neste",cls:["button","archive-btn"],disabled:s.value>=t.value?"disabled":!1,action:()=>{s.value<t.value&&s.value++}}]);return(v,S)=>(c(),i("nav",{class:o(n(r)[0])},[h(x,{data:f.value[0]},null,8,["data"]),b("span",{class:o(n(r)[1])},m(s.value>0?s.value+" / "+t.value:""),3),h(x,{data:f.value[1]},null,8,["data"])],2))}},F={key:1},A={__name:"NewsView",setup(p){const l=$(),a=w({title:"Siste nytt fra foreningen",cls:["flex-wrap-row-justify-center"],section:{title:"Nyhetsarkiv",cls:["flex-wrap-row-justify-center"]}}),e=w({n:3,activePage:1,cls:["flex-wrap-row-justify-center","flex-wrap-row-align-items-center"],total:y(()=>Math.ceil(l.archived.length/e.n)),articles:y(()=>{const r=e.n,s=e.activePage,t=s*r,f=(s-1)*r;return l.archived.slice(f,t)})});return q(async()=>{await l.fetchNews()}),(r,s)=>(c(),i(d,null,[b("h2",{class:o(a.cls)},m(a.title),3),n(l).recent.length>0?(c(!0),i(d,{key:0},P(n(l).recent,t=>(c(),g(k,{key:t.id,data:t,Cls:[t.id%2?"flex-wrap-row-justify-space-around":"flex-row-reversed-justify-space-around-align-content-center","article-ingress",t.cls[0],t.cls[1],"news-article"]},null,8,["data","Cls"]))),128)):u("",!0),n(l).archived.length>0?(c(),i("section",F,[b("h2",{class:o(a.section.cls)},m(a.section.title),3),e.total>1?(c(),g(V,{key:0,Cls:e.cls,totalPage:e.total,activePage:e.activePage,onUpdate:s[0]||(s[0]=t=>e.activePage=t)},null,8,["Cls","totalPage","activePage"])):u("",!0),n(l).archived.length>0?(c(),i("section",{key:1,class:o([n(l).data.cls[1]])},[(c(!0),i(d,null,P(e.articles,t=>(c(),g(k,{key:t.id,data:t,Cls:[["flex-column-align-items-center","article-section"],"article-section",t.cls[0],t.cls[1],"news-card"]},null,8,["data","Cls"]))),128))],2)):u("",!0)])):u("",!0)],64))}};export{A as default};
