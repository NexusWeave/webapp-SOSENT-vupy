import{j as N,w,k as v,c as o,g as l,f as p,b as m,t as _,d as i,u as n,n as x,r as y,l as j,a as f,F as g,e as P,h as b}from"./index-7Ir7jXN3.js";import{b as C,_ as k}from"./Article-8QapBay-.js";const B={__name:"Pagnition",props:{activePage:{default:1,type:Number,required:!1},totalPage:{default:1,type:Number,required:!1},Cls:{type:Array,required:!1}},emits:["update"],setup(h,{emit:s}){const c=s,t=h;t.data;const r=t.Cls?t.Cls:[],a=N(t.activePage);w(()=>t.activePage,d=>{a.value=d}),w(()=>a,d=>{c("update",d)},{immediate:!0});const e=v(()=>t.totalPage),u=v(()=>[{id:0,label:"Forrige",cls:["button","pagnition-btn"],disabled:a.value<=1?"disabled":!1,action:()=>{a.value>1&&a.value--}},{id:1,label:"Neste",cls:["button","archive-btn"],disabled:a.value>=e.value?"disabled":!1,action:()=>{a.value<e.value&&a.value++}}]);return(d,q)=>(l(),o("nav",{class:i(n(r)[0])},[p(C,{data:u.value[0]},null,8,["data"]),m("span",{class:i(n(r)[1])},_(a.value>0?a.value+" / "+e.value:""),3),p(C,{data:u.value[1]},null,8,["data"])],2))}},V={key:1},$={__name:"NewsView",setup(h){const s=x(),c=y({title:"Siste nytt fra foreningen",cls:["flex-wrap-row-justify-center"],section:{title:"Nyhetsarkiv",cls:["flex-wrap-row-justify-center"]}}),t=y({n:3,activePage:1,cls:["flex-wrap-row-justify-center","flex-wrap-row-align-items-center"],total:v(()=>Math.ceil(s.archived.length/t.n)),articles:v(()=>{const r=t.n,a=t.activePage,e=a*r,u=(a-1)*r;return s.archived.slice(u,e)})});return j(async()=>{await s.fetchNews()}),(r,a)=>(l(),o(g,null,[m("h2",{class:i(c.cls)},_(c.title),3),n(s).recent.length>0?(l(!0),o(g,{key:0},P(n(s).recent,e=>(l(),b(k,{data:e,key:e.id,Cls:[e.id%2?e.cls[1]:e.cls[2],e.cls[10],e.cls[3],e.cls[11],e.cls[8],e.cls[8]]},null,8,["data","Cls"]))),128)):f("",!0),n(s).archived.length>0?(l(),o("section",V,[m("h2",{class:i(c.section.cls)},_(c.section.title),3),p(B,{Cls:t.cls,totalPage:t.total,activePage:t.activePage,onUpdate:a[0]||(a[0]=e=>t.activePage=e)},null,8,["Cls","totalPage","activePage"]),n(s).archived.length>0?(l(),o("section",{key:0,class:i([n(s).data.cls[1]])},[(l(!0),o(g,null,P(t.articles,e=>(l(),b(k,{key:e.id,data:e,Cls:[[e.cls[0],e.cls[12]],e.cls[12],e.cls[3],e.cls[11],e.cls[8],e.cls[6]]},null,8,["data","Cls"]))),128))],2)):f("",!0)])):f("",!0)],64))}};export{$ as default};
